# Storage Class
---
1. C具有两种存储时期：  
    1. 静态存储时期：在程序执行期间爱你一直存在；
    2. 自动存储时期：当程序进入这些变量的代码块时，将为这些变量分配内存，当退出时，释放这些内存；
2. C为变量提供了五种不同存储模型：  
    1. 自动变量：具有自动存储时期的变量；
    2. 寄存器变量：
        * 存放在寄存器而非内存中的变量；
        * 无法获取寄存器变量的地址；
        * 用register关键字声明: `register type_name name;`
        * 可以使用register声明的变量是有限的，如没有足够大的寄存器来容纳double类型；
    3. 具有代码块作用域的静态变量：
        * 从一次函数调用到下一次函数调用，计算机都记录着它们的值；
        * 通过static在代码块内声明；
        * 对函数参量不能使用static;
        * 虽然静态变量在程序结束时才会释放，但只有在定义它的代码块中才能使用该变量；
    4. 具有外部链接的静态变量：
        * 把变量的定义声明放在所有函数之外，即外部变量；
        * 作用域从声明的位置开始到文件结束为止；
        * 如果变量在别的文件中定义，请一定使用extern声明；
        * extern表示该声明不是一个定义；
        * 外部变量只能进行一次初始化，而且一定在变量被定义时进行；
        * 不能使用extern进行初始化；
        * 不初始化时，会被自动赋值为0;
        * 只能用常量表达式初始化文件作用域变量，下面这种是错误的：  
        <pre>
            int x = 10;
            int x2 = 2 * x; //invalid
         </pre>  
    5. 具有内部链接的静态变量：
        * 使用static在所有函数外部定义；
        * 普通外部变量可以在任意文件中使用，具有内部链接的静态变量只能在同一个文件中使用；
        * 要在其它文件中使用普通外部变量，必须使用extern关键字声明；
3. Ｃ语言有5个作为存储类说明符的关键字：
    * auto：只能用在代码块作用域的变量声明中，主要用来明确意图；
    * register：也只能用在具有代码块作用域的变量；
    * static：程序运行期间存在并保留其值；
    * extern：声明的变量具有外部链接；
    * typdef：与内存存储无关，由于语法原因被归纳在此；
4. 函数也可以是外部(extern)或静态(static)的;函数声明默认为extern声明；
5. 使用time()返回系统时间：
    * `<time.h>`
    * 参数是一个time_t类型对象的指针，也可以传送空指针；
    * 返回值是时间值，时间单位由系统决定；
6. 内存分配函数malloc:
    * `<stdlib.h>`
    * 参数为所需内存字节数；
    * 返回分配内存的指针，可以是void指针也可以是char指针；
    * 将void指针赋值给其它指针不会造成冲突；
    * 失败时返回空指针；
    * exit()函数用来在内存分配失败时结束程序:`exit(EXIT_FAILURE);`
    * 使用`free(ptr);`释放内存，防止内存泄露；
7. calloc()：
    * 第一个参数是所需内存单元的数量；
    * 第二个参数是每个单元以字节计的大小；
    * 返回void指针；
    * 将分配到的内存的全部位置零；
    * 使用动态内存往往导致进程比使用堆栈内存慢；
8. 在头文件中定义常量时，使用static可以在不同文件中包含该头文件，这样每个文件都有一份独立的数据拷贝，它们都是相同的，不会产生编译错误（同一标识符定义声明）；
    <pre>
    static const double PI = 3.1415926;
    static const char str[] = "string";
    </pre>          
9. 限定词valatile：
    * 除了可被程序改变之外，还可被代理改变；
    * 常被用于硬件地址与其它并行运行的程序共享的数据；
    * 取消优化；
10. 限定词restrict：
    * 只可用于指针；
    * 表明该指针是访问一个数据对象唯一且初始的方式:  
    `int * restrict restar = (int *)malloc(10 * sizeof(int));`                           
